_subdirectory: template

project_name:
  type: str
  help: What is your project name?

make_subdir:
  type: bool
  default: true
  help: Do you want to make a subdirectory and extract the template into it?

# Computed values
# https://copier.readthedocs.io/en/stable/faq/#how-to-create-computed-values
project_name_snake_case:
  type: str
  default: "{{ project_name | replace('-', '_') }}"
  when: false # This makes sure it isn't asked nor stored

project_dir:
  type: str
  # 改行を含めないために{{- -}}などの-付きのものを利用する
  # copierdev sync-testproj で名前の衝突を避けるためにsuffix(-dir)を追加する．
  default: >-
    {%- if make_subdir -%}
      {{- project_name -}}
      {%- if emit_copierdev -%}
        -dir
      {%- endif -%}
    {%- else -%}
      .
    {%- endif -%}
  when: false

_exclude:
  - "{% if not emit_copierdev %}.copierdev.yml{% else %}__never_match__{% endif %}"
