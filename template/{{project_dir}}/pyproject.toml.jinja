[project]
name = "{{ project_name }}"
version = "0.1.0"
description = ""
authors = [
    {name = "Shun Wakatsuki",email = "shun.wakatsuki@gmail.com"}
]
# readme = "README.md"
requires-python = ">=3.11"
dependencies = [
  "typed-argument-parser>=1.9.0,<2",
  "argcomplete>=3.2.1,<4",
  "pydantic>=2.12.4,<3",
]

[project.scripts]
{{ project_name_snake_case }} = "{{ project_name_snake_case }}.main:main"

[dependency-groups]
dev = [
  "pytest>=7.4.2,<8",
  "mypy>=1.6.1,<2",
  "poethepoet>=0.40.0",
]

[tool.mypy]
disallow_untyped_defs = true
disallow_incomplete_defs = true
show_column_numbers = true
warn_unused_ignores = true

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.build.targets.wheel]
packages = ["src/{{ project_name_snake_case }}"]

# poethepoet tasks
[tool.poe.tasks]
# main
main.script = "{{ project_name_snake_case }}.main:main"
main.help = "Run {{ project_name_snake_case }}.main:main"
# test
test.cmd = "pytest tests"
test.help = "Run pytest"
# mypy
_mypy_src.cmd = "mypy src"
_mypy_test.cmd = "mypy tests"
mypy.sequence = ["_mypy_src", "_mypy_test"]
mypy.help = "Run mypy for src/ and tests/"
# install
install.shell = "uv tool install ."
install.help = "Install this script globally"
